s.boot
s.quit
s.scope

~net = NetAddr("127.0.0.1",47120); // send address and port



OSCdef(\keyX,{Synth(\blip,[\freq,200,\dur,0.5,\amp,0.3])},"/mousex");

OSCdef(\keyZ,{Pbind(\instrument, \Blimp, \note, Pseq([60,70,80]), \dur, 1/2)},"/mousex");

Pbind(\instrument, \Blimp, \note, Pseq([70], inf), \dur, 1/2).play;







//SynthDef's
-------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------



(
SynthDef(\blip,{arg freq = 200,dur = 0.2, amp = 0.1;

	var sound = SinOsc.ar([freq,freq]);
	sound = sound*Line.kr(1,0,dur,doneAction:2);
	Out.ar(0,sound*amp);

}).add
)


(
SynthDef(\saw,{ arg out=0, note=60, amp=0.1, pan=0.0;
	var freq, env;
	freq = note.midicps;
	env = EnvGen.ar(
	Env([2,3,0.1,0.3],[0.01, 0.1, 0.01]),
	levelScale:amp,
	doneAction:2
	);

	Out.ar(out,
	Pan2.ar(Saw.ar(freq) * env, pan) //out 2 channels
	)
}).add;
)



(
SynthDef(\drums,{ |freq|
     var env, sig, trigger;
	 env = Env.perc(level:0.4,releaseTime:0.1).
	 kr(doneAction: Done.freeSelf); //var perc
     sig = WhiteNoise.ar * env; ///white noise gen
     trigger = Impulse.ar(freq); //sound compress

	 sig = Latch.ar(sig, trigger); //sound compress


	Out.ar(0,[sig , sig]) // left and right channels sig
}).add;
)

(
SynthDef(\Blimp,{ arg out=0, note=60, amp=0.1, pan=0.0;
	var freq, env;
	freq = note.midicps;
	env = EnvGen.ar(
		Env([10,2,3,1],[0.11, 0.2, 0.01]),
		levelScale:amp,
		doneAction:2

);

	Out.ar(out,
		Pan2.ar(Blip.ar(XLine.ar(freq) * env, pan)) //2 channels
	)
}).add;
)






// Pbinds
-------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------


Pbind(\instrument, \saw, \note, Pseq([40,45,40,43], inf), \dur, 1/4).play;

Pbind(\instrument, \drums, \note, Pseq([0.3,0.5,0.6,50,10,20,40,15,20,100,10,20,15,10], inf), \dur, 1/8).play;






//OSC Functions for processing 
-------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------


(
OSCFunc.newMatching({arg msg;
	Pbind(\instrument, \saw, \note, Pseq([40,45,50,34,22,50,30,50,23,25,20,30,43], inf), \dur, 1/4).play;
},"/Start")
)

(
OSCFunc.newMatching({arg msg1;
	Pbind(\instrument, \drums, \note, Pseq([0.3,0.5,0.6,50,10,20,40,15,20,100,10,20,15,10], inf), \dur, 1/4).play;
},"/kick")
)

(
OSCFunc.newMatching({arg msg0;
	var freq = msg0[1];
	var amp = msg0[2];
	var env = msg0[3];
	Synth(\Blimp,[\freq,freq,\amp,amp]);
},"/Blimp/play")
)



