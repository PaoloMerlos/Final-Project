// This Project was created by the team Deep Matrix
// Which consists of the member
//
// - Eleni Kapona
// - Paolo Merlos
// - Nazariy Alshanskiy
// - Anna Kotzampasaki



s.boot
s.quit
s.scope

~net = NetAddr("127.0.0.1",47120); // send address and port


//To start off we will need to select each SynthDef there is to get the sound in the SynthDef's Section

//Then Activate the OSC Functions for processing



//SynthDef's
-------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------


(
SynthDef(\saw,{  arg out=0, note=60, amp=0.1, pan=0.0;
	var freq, env;
	freq = note.midicps;
	env = EnvGen.ar(
	Env([2,3,0.1,0.3],[0.01, 0.1, 0.01]),
	levelScale:amp,
	doneAction:2
	);

	Out.ar(out,
	Pan2.ar(Saw.ar(freq) * env, pan)
	)
}).add;
)



(
SynthDef(\drums,{ |freq|
     var env, sig, trigger;
	 env = Env.perc(level:0.4,releaseTime:0.1).
	 kr(doneAction: Done.freeSelf); //var perc
     sig = WhiteNoise.ar * env; ///white noise generation
     trigger = Impulse.ar(freq); //sound compress

	 sig = Latch.ar(sig, trigger); //sound compress


	Out.ar(0,[sig , sig]) //
}).add;
)

(
SynthDef(\Blimp,{ arg out=0, note=60, amp=0.1, pan=0.0;
	var freq, env;
	freq = note.midicps;
	env = EnvGen.ar(
		Env([10,2,3,1],[0.11, 0.2, 0.01]),
		levelScale:amp,
		doneAction:2

);
	Out.ar(out,
		Pan2.ar(Blip.ar(XLine.ar(freq) * env, pan)) //2 channels
	)
}).add;
)






// Pbinds
-------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------


Pbind(\instrument, \saw, \note, Pseq([40,45,40,43], inf), \dur, 1/4).play;

Pbind(\instrument, \drums, \note, Pseq([0.3,0.5,0.6,50,10,20,40,15,20,100,10,20,15,10], inf), \dur, 1/8).play;






//OSC Functions for processing
-------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------


(
OSCFunc.newMatching({arg msg;
	Pbind(\instrument, \saw, \note, Pseq([40,45,50,34,22,50,30,50,23,25,20,30,43], inf), \dur, 1/4).play;
},"/Start")
) //If processing recieves the message on argument msg /Start play this sound

(
OSCFunc.newMatching({arg msg1;
	Pbind(\instrument, \drums, \note, Pseq([0.3,0.5,0.6,50,10,20,40,15,20,100,10,20,15,10], inf), \dur, 1/4).play;
},"/kick")
) //If processing recieves the message on argument msg /kick play this sound

(
OSCFunc.newMatching({arg msg0;
	var freq = msg0[1];
	var amp = msg0[2];
	var env = msg0[3];
	Synth(\Blimp,[\freq,freq,\amp,amp]);
},"/Blimp/play")
)
//If processing recieves the message on argument msg /Blimp/play each time the ball will hit the end of the screen it will play the sound depending on freq, amp and env.



